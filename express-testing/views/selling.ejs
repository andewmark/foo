<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selling Page</title>
    <link rel="stylesheet" href="stylesheets/selling.css">
    <script src="https://kit.fontawesome.com/cd3149d197.js" crossorigin="anonymous"></script>
    <script  type='text/javascript'>

        
        // on button "Seller Dashboard" click, present Dashboard

        function switchVisibleDashboard() {
            //Remove and attatch active class appropriately
            document.getElementById("dashboard").classList.add("active");
            document.getElementById("listings").classList.remove("active");

            //Hide user Listings display Dashboard
            document.getElementById('seller-dashboard').style.display = 'block';
            document.getElementById('listings-page').style.display = 'none';
            

        }
        
        //on button "Your Listings" click, present user listings
        function switchVisibleListing() {

            //Remove and attatch active class appropriately
            document.getElementById("listings").classList.add("active");
            document.getElementById("dashboard").classList.remove("active");

            //Hide Seller-Dashboard
            document.getElementById('seller-dashboard').style.display = 'none';
            document.getElementById('listings-page').style.display = 'grid';

        }
    </script>
</head>
<body>
    
    <!-- Menu bar on the left side -->
    <div class="sidebar">
        <h3><a id="leftarrow" href="/"><i class="fa-solid fa-arrow-left"></i></a> Student Marketplace <span>Selling</span></h3>
        <a id="new-listing" href="/post"><i class="fa-solid fa-plus"></i> Create new post</a>
        <a class="active" id="dashboard" href="#" onclick="switchVisibleDashboard();return false;"><i id="icon" class="fa-solid fa-chart-line"></i></i> Seller Dashboard</a> <!-- Anything that the user has intereacted with the post (besides just clicking on it) will show up in this page-->
        <a id="listings" href=# onclick="switchVisibleListing();return false;"><i id="icon" class="fa-solid fa-tags"></i></i> Your listings</a> <!-- Anything that the user has saved will show up in this page-->
        <a href="/chat"><i id="icon" class="fa-solid fa-envelope"></i> Inbox</a>
    </div>

    <!-- Navigation tabs centered at the top -->
    <nav>
        <a href="/">Home</a>
        <a href="/buying">Buy</a>
        <a class="active" href="/selling">Sell</a>
        <a href="/chat">Messages</a>
        <a href="/notifications">Notifications</a>  
        
        <!-- Icon buttons -->
        <div class="icons">
            <a class="icon" href="#"><img src="images/icons/bank.png" alt="Icon 1"></a>
            <a class="icon" href="/profile"><img src="images/icons/user.png" alt="Icon 3"></a>
        </div>
    </nav>

    <!-- Main Page -->
    <div id="seller-dashboard">
        <div id="main-containers" class="overview-container">
            <h2>Overview</h2>

            <a href="#" class="active-listings">
                <h3>Active Listings:</h3>
                <h1 id="active-listings">0</h1>
            </a>

            <a href="#" class="sold-listings">
                <h3>Sold:</h3>
                <h1 id="sold-listings">0</h1>
            </a>

            <a href="#" class="drafts">
                <h3>Drafts:</h3>
                <h1 id="drafts">0</h1>
            </a>
        </div>

        <div id="main-containers" class="anyaltics-container">
            <h2>Anyaltics</h2>
            <a href="#" class="clicks">
                <h3>Clicks on post:</h3>
                <h1 id="clicks">0</h1>
            </a>

            <a href="#" class="saved">
                <h3>Post saved:</h3>
                <h1 id="saved">0</h1>
            </a>

            <a href="#" class="shares">
                <h3>Post shares:</h3>
                <h1 id="shares">0</h1>
            </a>
        </div>
        
        <div id="small-containers" class="rating">
            <h2>Student Reviews</h2>


        </div>

        <div id="small-containers" class="chats">
            <h2>Notifications</h2>
            <a href="#">
                <h3>Unread messages:</h3>
                <h1 id="unread">0</h1>
            </a>
        </div>
    </div>

    <!-- User Listings -->
    <div class="listings-page" id="listings-page">
    <% if (fakeListings.length > 0) { %>
        <div class="listings">
          <% for (const listing of fakeListings) { %>
            <div class="listing-container">
              <img src="<%= listing.imageUrl %>">
              <div class="info">
                <h2 id="listing-title"><%= listing.title %></h2>
                <h3 id="listing-price"><%= listing.price %></h3>
                <p id="description"><%= listing.description %></p>
                <h3 id="status">Status: Active</h3>
                <a id="edit" href="#">edit post</a>
              </div>
            </div>
          <% } %>
        </div>
      
      <% } else { %>
        <div class="listing-message" id="listing-message">
          <h4><i class="fa-solid fa-magnifying-glass"></i><br>No Listings Found<br> Create a Listing!</h4>
          <a id="new-listing" href="/post"><i class="fa-solid fa-plus"></i> Create new post</a>
        </div>
      <% } %>
    </div>
    
</body>
</html>